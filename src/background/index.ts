/* Background Service Worker */\n\nimport browser from "webextension-polyfill";\nimport { ConnectorManager } from "../connectors/base/ConnectorManager";\n\nconst connectorManager = ConnectorManager.getInstance();\n\n// Message router\nbrowser.runtime.onMessage.addListener(async (message) => {\n  const { action, payload } = message as { action: string; payload?: any };\n  switch (action) {\n    case "ping":\n      return { success: true };\n    default:\n      return { success: false, error: `Unknown action: ${action}` };\n  }\n});\n\n// Keep service worker alive every 60 seconds (Chrome MV3 workaround)\nsetInterval(() => {\n  browser.runtime.sendMessage({ action: "ping" }).catch(() => {});\n}, 60000);\n\nconsole.log("kai-cd background worker initialised");\n