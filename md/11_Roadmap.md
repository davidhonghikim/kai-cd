# ðŸ—ºï¸ Project Roadmap

This document outlines the planned features and development priorities for Kai-CD. It serves as a task list for developers and AI agents.

## Phase 1: Foundation & Core Services (âœ… Complete)

The primary focus of this phase was to build a robust foundation for the application and implement support for the most common and essential AI services.

### Priority 1: Complete Core Documentation Suite
Status: âœ… Complete
Task: Finish generating all documentation files as outlined in `00_Index.md`.

### Priority 2: Flesh out All Service Definitions
Status: âœ… Complete
Description: All placeholder service definition files have been fleshed out with their core capabilities, endpoints, and parameter schemas based on their respective API documentation.

### Priority 3: Develop the Core User Interface
Status: âœ… Complete
Description: The dynamic user interface has been implemented. A Zustand store manages service state, and the UI dynamically generates forms and chat interfaces based on the capabilities defined in each service.
Key Implementations:
- `useServiceStore` created for state management.
- `ServiceSelector` connected to the store.
- `CapabilityUI` dynamically renders views for `LlmChatCapability` and `ImageGenerationCapability`.
- `ParameterControl` component created to render form elements dynamically.
- `apiClient` implemented for frontend to backend communication.

## Phase 2: UI/UX Modernization (ðŸŽ¯ Current Focus)

The next major focus is a comprehensive overhaul of the UI foundation to create a sleek, modern, and themeable user experience inspired by best-in-class applications like Open WebUI.

### Priority 1: Implement Theme System
Status: âœ… Complete
Description: A flexible CSS-variable theme engine has been implemented (`src/styles/themes.ts`) with light | dark | system modes persisted via zustand (`useThemeStore`). Next step is to apply visual design tokens across all components.

### Priority 2: Refactor for Modular Views
Status: âœ… Complete
Description: Rework the core UI logic to use a "View Registry" pattern for maximum modularity and extensibility.
Next Steps:
- Create a `capability -> Component` map in `src/components/capabilities/registry.ts`.
- Refactor `CapabilityUI.tsx` to use this registry instead of a switch/if statement.
- Document this new architecture in `16_UI_Architecture.md`.

### Priority 3: Redesign Popup View
Status: âœ… Complete
Notes: The popup has been redesigned with a wider layout (640px), a two-column card-based design for services, and updated to use the central theme system for modern styling.

### Priority 4: Design Import/Export System
Status: âœ… Complete
Description: Architected a unified system for importing and exporting user data. This includes a versioned JSON schema, a `backupManager.ts` utility, and a reusable UI component integrated into the settings page.

## Phase 3: Advanced Features & Usability (Next Up)

### Priority 1: Chat & History
Status: âœ… Complete
Description: Enhance the `LlmChatView` to persist conversation history.
Next Steps:
- Modify `useServiceStore` to store message history for each service.
- Update `LlmChatView` to load and save messages to the store.
- Consider adding timestamps and the ability to clear history.

### Priority 2: Image Gallery
Status: âœ… Complete
Description: Create a gallery to view and manage images generated by services.
Next Steps:
- Create a new `ImageGalleryView` component.
- Modify `ImageGenerationView` to save generated images (e.g., the base64 data) to a new store or to the existing `useServiceStore`.
- Implement features to view, download, and delete images from the gallery.

### Priority 3: Settings Management
Status: âœ… Complete
Description: Build a comprehensive settings page.
Next Steps:
- Create a new settings page, likely in a new tab.
- Allow users to add, edit, and remove services from the `useServiceStore`.
- Implement UI for managing API keys and other global application settings from `src/config/env.ts`.

### Side Panel Integration
Status: âœ… Complete
Description: Develop a useful side-panel experience, perhaps for quick access to a specific service while browsing.

## Phase 4: Extensibility & Polish

### Priority 1: Improved Error Handling
Status: âœ… Complete
Description: The application now provides clear, user-friendly error messages from service APIs using a toast notification system.

### Priority 2: Custom Workflows
Status: âšª Not Started
Description: Explore ways to chain different services together (e.g., use an LLM to generate a prompt for an image model).

### Priority 3: Full Test Coverage
Status: âšª Not Started
Description: Implement the testing strategy outlined in `04_DevelopmentTesting.md`.

## Phase 2: UI Overhaul & User Experience

- [ ] UI Overhaul & Theming Foundation (Build Unblocked âœ…)
- [ ] Service Management UI (Add, Edit, Remove)
- [ ] User-friendly Settings & Configuration
- [ ] Import/Export User Data (Services, Settings)

## Phase 3: Advanced Features & Extensibility

- [ ] Custom Workflows & Agentic Behavior
- [ ] Vector Search & RAG Capability
- [ ] Multi-modal Support (Image inputs, etc.)
- [ ] Plugin System for New Capabilities
- [ ] Advanced Parameter Control UI

## Phase 4: Polish & Release

- [ ] Comprehensive Testing & Bug Fixing
- [ ] Performance Optimization
- [ ] Documentation & Onboarding Guides
- [ ] Chrome Web Store Submission

## Version 0.2.x - The Manager Update

With the core UI architecture stabilized in v0.2.0, the next cycle will focus on building out the management interfaces introduced in the "Services" tab.

-   **Implement Prompt Manager:**
    -   Design and build a UI for creating, editing, and organizing prompts.
    -   Allow prompts to be tagged and categorized.
    -   Connect the Prompt Manager to the `LlmChatView` so users can easily select and use saved prompts.

-   **Implement Artifacts Manager:**
    -   Design and build a UI for viewing and managing generated content (e.g., images from `a1111`/`ComfyUI`, chat logs).
    -   Allow artifacts to be saved, downloaded, and deleted.
    -   Provide filtering and searching capabilities.

-   **Address Known Issues:**
    -   Work through the list of known UI/UX issues documented in `12_Issues_Troubleshooting.md` to improve the overall polish and usability of the extension.

## Future Ideas (Post 0.2.x)

-   **Advanced Automation Workflows:** Move beyond simple n8n/Huginn integration to a more visual workflow builder directly within the extension.
-   **Collaborative Features:** Introduce a way to share service configurations, prompts, and workflows with team members.
-   **Model Fine-Tuning Interface:** Provide a UI for initiating and monitoring model fine-tuning jobs through services like `LLM Studio`.
-   **Usage Analytics:** Add a dashboard to track token usage, generation times, and other metrics across different services.
-   **Expanded Service Support:** Continue to add definitions for new and popular self-hosted services. 